<!-- rustrician.io circuit :: Wed Dec 21 2022 10:31:23 GMT-0500 (Eastern Standard Time) -->
<mxGraphModel>
  <root>
    <mxCell id="0"/>
    <mxCell id="1" parent="0" version="1337.325" tags="batteries,battery,parallel batteries,parallel battery circuit" name="Advanced Parallel Battery Circuit">
      <Object sun="100" wind="100" speed="10" as="environment"/>
    </mxCell>
    <mxCell id="16" value="Advanced Parallel Battery Circuit" style="text-large" vertex="1" connectable="0" parent="1">
      <mxGeometry x="420" y="-90" width="268" height="70" as="geometry"/>
    </mxCell>
    <mxCell id="17" value="Due to the way root combiners work, you can achieve a functional Parallel Battery Circuit using something like the below setup.&#xa;This combines all energy sources into a single input source. You then use a branch to set you max power requirements.&#xa;The remainder of the Power goes into storing energy into the Primary Battery Store.&#xa;If the Energy Source ever drops below the required Max Power Requirements set, the Batteries kick in.&#xa;When enough power is returned to the power requirements the primary batteries start to store energy again.&#xa;See my battery backup designs here:Â https://github.com/dennishenderson/rustrician/tree/main/batteries" style="text-small" vertex="1" connectable="0" parent="1">
      <mxGeometry x="170" y="-40" width="860" height="110" as="geometry"/>
    </mxCell>
    <mxCell id="78" value="0" edge="1" disabled="0" hovered="0" origin="43" link="0" parent="1" source="51" target="67">
      <mxGeometry relative="1" as="geometry">
        <Array as="points">
          <mxPoint x="732.6947368421053" y="283.978947368421"/>
        </Array>
      </mxGeometry>
    </mxCell>
    <mxCell id="80" value="200" edge="1" disabled="0" hovered="0" parent="1" source="62" target="66" origin="119" link="153">
      <mxGeometry relative="1" as="geometry">
        <Array as="points">
          <mxPoint x="690" y="139.5"/>
          <mxPoint x="690" y="239.5"/>
        </Array>
      </mxGeometry>
    </mxCell>
    <mxCell id="153" value="340" edge="1" disabled="0" hovered="0" parent="1" source="148" target="61" origin="119" link="0">
      <mxGeometry relative="1" as="geometry">
        <Array as="points">
          <mxPoint x="444.2315789473684" y="157.83684210526314"/>
          <mxPoint x="444.2315789473684" y="237.83684210526314"/>
        </Array>
      </mxGeometry>
    </mxCell>
    <mxCell id="154" value="Energy Sources" style="group" vertex="1" parent="1">
      <mxGeometry x="110" y="76" width="324" height="531.8368421052631" as="geometry"/>
    </mxCell>
    <mxCell id="2" value="Wind Turbine" style="cmp_generator_wind" vertex="1" connectable="0" parent="154">
      <mxGeometry x="40" y="64" width="64" height="64" as="geometry"/>
      <Object cmpid="generator_wind" isroot="1" combinable="1" as="attrs"/>
      <Array as="props">
        <Object name="Amount" type="int" value="150"/>
        <Object name="Range Min" type="int" value="0"/>
        <Object name="Range Max" type="int" value="150"/>
        <Object name="Enable Wind Simulation" type="bool" value="true"/>
      </Array>
      <Object hqm="10" gear="3" sm="3" wood="500" as="craft"/>
    </mxCell>
    <mxCell id="3" value="Power Out" style="portv" vertex="1" type="out" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0" parent="2">
      <mxGeometry x="1" y="0.4" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="4" value="Wind Turbine" style="cmp_generator_wind" vertex="1" connectable="0" parent="154">
      <mxGeometry x="40" y="128" width="64" height="64" as="geometry"/>
      <Object cmpid="generator_wind" isroot="1" combinable="1" as="attrs"/>
      <Array as="props">
        <Object name="Amount" type="int" value="150"/>
        <Object name="Range Min" type="int" value="0"/>
        <Object name="Range Max" type="int" value="150"/>
        <Object name="Enable Wind Simulation" type="bool" value="true"/>
      </Array>
      <Object hqm="10" gear="3" sm="3" wood="500" as="craft"/>
    </mxCell>
    <mxCell id="5" value="Power Out" style="portv" vertex="1" type="out" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0" parent="4">
      <mxGeometry x="1" y="0.4" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="111" value="Solar Panel" style="cmp_solarpanel_large" vertex="1" connectable="0" parent="154">
      <mxGeometry x="40" y="202" width="64" height="64" as="geometry"/>
      <Object cmpid="solarpanel_large" isroot="1" combinable="1" as="attrs"/>
      <Array as="props">
        <Object name="Amount" type="int" value="20"/>
        <Object name="Range Min" type="int" value="0"/>
        <Object name="Range Max" type="int" value="20"/>
        <Object name="Enable Sun Simulation" type="bool" value="true"/>
      </Array>
      <Object hqm="5" tech="1" as="craft"/>
    </mxCell>
    <mxCell id="112" value="Power Out" style="port" vertex="1" parent="111" type="out" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0">
      <mxGeometry x="1.1" y="0.4" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="113" value="Solar Panel" style="cmp_solarpanel_large" vertex="1" connectable="0" parent="154">
      <mxGeometry x="40" y="266" width="64" height="64" as="geometry"/>
      <Object cmpid="solarpanel_large" isroot="1" combinable="1" as="attrs"/>
      <Array as="props">
        <Object name="Amount" type="int" value="20"/>
        <Object name="Range Min" type="int" value="0"/>
        <Object name="Range Max" type="int" value="20"/>
        <Object name="Enable Sun Simulation" type="bool" value="true"/>
      </Array>
      <Object hqm="5" tech="1" as="craft"/>
    </mxCell>
    <mxCell id="114" value="Power Out" style="port" vertex="1" parent="113" type="out" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0">
      <mxGeometry x="1.1" y="0.4" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="115" value="Small Generator" style="cmp_fuelgenerator_small" vertex="1" connectable="0" parent="154">
      <mxGeometry x="40" y="334" width="64" height="64" as="geometry"/>
      <Object cmpid="fuelgenerator_small" alias="gen_small" isroot="1" combinable="1" rate="4" state="0" display="0" display_filter="time" startval="0" stopval="0" as="attrs">
        <Object x="0" y="10" as="props_offset"/>
      </Object>
      <Array as="props">
        <Object name="Fuel Amount" type="float" value="439.80"/>
        <Object name="Output Amount" type="int" value="40"/>
        <Object name="Show Run-time" type="bool" value="true"/>
      </Array>
      <Object hqm="5" gear="2" as="craft"/>
    </mxCell>
    <mxCell id="116" value="Force Start" style="portv" vertex="1" parent="115" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0">
      <mxGeometry x="0.2" y="1.05" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="117" value="Force Stop" style="portv" vertex="1" parent="115" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0">
      <mxGeometry x="0.6" y="1.05" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="118" value="Power Out" style="port" vertex="1" parent="115" type="out" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0">
      <mxGeometry x="1" y="0.4" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="119" value="Small Generator" style="cmp_fuelgenerator_small" vertex="1" connectable="0" parent="154">
      <mxGeometry x="40" y="422" width="64" height="64" as="geometry"/>
      <Object cmpid="fuelgenerator_small" alias="gen_small" isroot="1" combinable="1" rate="4" state="0" display="0" display_filter="time" startval="0" stopval="0" as="attrs">
        <Object x="0" y="10" as="props_offset"/>
      </Object>
      <Array as="props">
        <Object name="Fuel Amount" type="float" value="439.66"/>
        <Object name="Output Amount" type="int" value="40"/>
        <Object name="Show Run-time" type="bool" value="true"/>
      </Array>
      <Object hqm="5" gear="2" as="craft"/>
    </mxCell>
    <mxCell id="120" value="Force Start" style="portv" vertex="1" parent="119" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0">
      <mxGeometry x="0.2" y="1.05" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="121" value="Force Stop" style="portv" vertex="1" parent="119" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0">
      <mxGeometry x="0.6" y="1.05" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="122" value="Power Out" style="port" vertex="1" parent="119" type="out" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0">
      <mxGeometry x="1" y="0.4" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="123" value="Root Combiner" style="cmp_combiner" vertex="1" connectable="0" parent="154">
      <mxGeometry x="140.00000000000003" y="94" width="64" height="64" as="geometry"/>
      <Object cmpid="combiner" consumption="0" passthrough="1" usage="1" as="attrs"/>
      <Array as="props"/>
      <Object mf="75" as="craft"/>
    </mxCell>
    <mxCell id="124" value="Power In 1" style="portv" vertex="1" parent="123" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0">
      <mxGeometry x="0.2" y="1.05" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="125" value="Power In 2" style="portv" vertex="1" parent="123" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0">
      <mxGeometry x="0.6" y="1.05" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="126" value="Power Out" style="portv" vertex="1" parent="123" type="out" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0">
      <mxGeometry x="0.4" y="-0.2" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="127" value="150" edge="1" disabled="0" hovered="0" parent="154" source="3" target="124" origin="2" link="0">
      <mxGeometry relative="1" as="geometry">
        <Array as="points">
          <mxPoint x="134.23157894736843" y="91.83684210526314"/>
          <mxPoint x="144.23157894736843" y="161.83684210526314"/>
        </Array>
      </mxGeometry>
    </mxCell>
    <mxCell id="128" value="150" edge="1" disabled="0" hovered="0" parent="154" source="5" target="125" origin="4" link="0">
      <mxGeometry relative="1" as="geometry">
        <Array as="points">
          <mxPoint x="124.23157894736843" y="191.83684210526314"/>
          <mxPoint x="184.2315789473684" y="181.83684210526314"/>
        </Array>
      </mxGeometry>
    </mxCell>
    <mxCell id="129" value="Root Combiner" style="cmp_combiner" vertex="1" connectable="0" parent="154">
      <mxGeometry x="140.00000000000003" y="234" width="64" height="64" as="geometry"/>
      <Object cmpid="combiner" consumption="0" passthrough="1" usage="1" as="attrs"/>
      <Array as="props"/>
      <Object mf="75" as="craft"/>
    </mxCell>
    <mxCell id="130" value="Power In 1" style="portv" vertex="1" parent="129" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0">
      <mxGeometry x="0.2" y="1.05" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="131" value="Power In 2" style="portv" vertex="1" parent="129" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0">
      <mxGeometry x="0.6" y="1.05" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="132" value="Power Out" style="portv" vertex="1" parent="129" type="out" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0">
      <mxGeometry x="0.4" y="-0.2" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="133" value="20" edge="1" disabled="0" hovered="0" parent="154" source="112" target="130" origin="111" link="0">
      <mxGeometry relative="1" as="geometry">
        <Array as="points">
          <mxPoint x="134.23157894736843" y="231.83684210526314"/>
        </Array>
      </mxGeometry>
    </mxCell>
    <mxCell id="134" value="20" edge="1" disabled="0" hovered="0" parent="154" source="114" target="131" origin="113" link="0">
      <mxGeometry relative="1" as="geometry">
        <Array as="points">
          <mxPoint x="114.23157894736843" y="331.83684210526314"/>
          <mxPoint x="184.2315789473684" y="331.83684210526314"/>
        </Array>
      </mxGeometry>
    </mxCell>
    <mxCell id="135" value="Root Combiner" style="cmp_combiner" vertex="1" connectable="0" parent="154">
      <mxGeometry x="140.00000000000003" y="366" width="64" height="64" as="geometry"/>
      <Object cmpid="combiner" consumption="0" passthrough="0" usage="1" as="attrs"/>
      <Array as="props"/>
      <Object mf="75" as="craft"/>
    </mxCell>
    <mxCell id="136" value="Power In 1" style="portv" vertex="1" parent="135" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0">
      <mxGeometry x="0.2" y="1.05" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="137" value="Power In 2" style="portv" vertex="1" parent="135" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0">
      <mxGeometry x="0.6" y="1.05" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="138" value="Power Out" style="portv" vertex="1" parent="135" type="out" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0">
      <mxGeometry x="0.4" y="-0.2" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="139" value="0" edge="1" disabled="0" hovered="0" parent="154" source="118" target="136" origin="115" link="0">
      <mxGeometry relative="1" as="geometry">
        <Array as="points">
          <mxPoint x="134.23157894736843" y="361.83684210526314"/>
        </Array>
      </mxGeometry>
    </mxCell>
    <mxCell id="140" value="0" edge="1" disabled="0" hovered="0" parent="154" source="122" target="137" origin="119" link="0">
      <mxGeometry relative="1" as="geometry">
        <Array as="points">
          <mxPoint x="114.23157894736843" y="491.83684210526314"/>
          <mxPoint x="184.2315789473684" y="491.83684210526314"/>
        </Array>
      </mxGeometry>
    </mxCell>
    <mxCell id="141" value="Root Combiner" style="cmp_combiner" vertex="1" connectable="0" parent="154">
      <mxGeometry x="220" y="244" width="64" height="64" as="geometry"/>
      <Object cmpid="combiner" consumption="0" passthrough="1" usage="1" as="attrs"/>
      <Array as="props"/>
      <Object mf="75" as="craft"/>
    </mxCell>
    <mxCell id="142" value="Power In 1" style="portv" vertex="1" parent="141" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0">
      <mxGeometry x="0.2" y="1.05" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="143" value="Power In 2" style="portv" vertex="1" parent="141" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0">
      <mxGeometry x="0.6" y="1.05" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="144" value="Power Out" style="portv" vertex="1" parent="141" type="out" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0">
      <mxGeometry x="0.4" y="-0.2" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="145" value="Root Combiner" style="cmp_combiner" vertex="1" connectable="0" parent="154">
      <mxGeometry x="220" y="94" width="64" height="64" as="geometry"/>
      <Object cmpid="combiner" consumption="0" passthrough="1" usage="1" as="attrs"/>
      <Array as="props"/>
      <Object mf="75" as="craft"/>
    </mxCell>
    <mxCell id="146" value="Power In 1" style="portv" vertex="1" parent="145" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0">
      <mxGeometry x="0.2" y="1.05" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="147" value="Power In 2" style="portv" vertex="1" parent="145" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0">
      <mxGeometry x="0.6" y="1.05" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="148" value="Power Out" style="portv" vertex="1" parent="145" type="out" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0">
      <mxGeometry x="0.4" y="-0.2" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="149" value="40" edge="1" disabled="0" hovered="0" parent="154" source="132" target="142" origin="113" link="0">
      <mxGeometry relative="1" as="geometry">
        <Array as="points">
          <mxPoint x="204.2315789473684" y="221.83684210526314"/>
          <mxPoint x="204.2315789473684" y="311.83684210526314"/>
        </Array>
      </mxGeometry>
    </mxCell>
    <mxCell id="150" value="0" edge="1" disabled="0" hovered="0" parent="154" source="138" target="143" origin="119" link="0">
      <mxGeometry relative="1" as="geometry">
        <Array as="points">
          <mxPoint x="254.2315789473684" y="361.83684210526314"/>
        </Array>
      </mxGeometry>
    </mxCell>
    <mxCell id="151" value="40" edge="1" disabled="0" hovered="0" parent="154" source="144" target="147" origin="119" link="0">
      <mxGeometry relative="1" as="geometry">
        <Array as="points">
          <mxPoint x="264.2315789473684" y="191.83684210526314"/>
        </Array>
      </mxGeometry>
    </mxCell>
    <mxCell id="152" value="300" edge="1" disabled="0" hovered="0" parent="154" source="126" target="146" origin="4" link="0">
      <mxGeometry relative="1" as="geometry">
        <Array as="points">
          <mxPoint x="214.2315789473684" y="81.83684210526314"/>
          <mxPoint x="214.2315789473684" y="171.83684210526314"/>
        </Array>
      </mxGeometry>
    </mxCell>
    <mxCell id="155" value="Max Power&#xa;Requirements" style="group" vertex="1" parent="1">
      <mxGeometry x="470" y="90" width="144" height="186" as="geometry"/>
    </mxCell>
    <mxCell id="60" value="Electrical Branch" style="cmp_branch" vertex="1" connectable="0" parent="155">
      <mxGeometry x="40" y="75" width="64" height="64" as="geometry"/>
      <Object cmpid="branch" consumption="1" display="200" passthrough="1" branch_min="2" usage="200" as="attrs"/>
      <Array as="props">
        <Object name="Branch" type="int" value="200" minval="2"/>
        <Object name="Show Branch Amount" type="bool" value="true"/>
      </Array>
      <Object mf="75" as="craft"/>
    </mxCell>
    <mxCell id="61" value="Power In" style="portv" vertex="1" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0" parent="60">
      <mxGeometry x="0.4" y="1.05" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="62" value="Branch Out" style="portv" vertex="1" type="out" consumable="1" reconsumable="0" delayed="1" direct="0" warning="0" parent="60">
      <mxGeometry x="0.2" y="-0.2" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="63" value="Power Out" style="portv" vertex="1" type="out" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0" parent="60">
      <mxGeometry x="0.6" y="-0.2" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="160" value="139" edge="1" disabled="0" hovered="0" parent="1" source="63" target="83" origin="119" link="153">
      <mxGeometry relative="1" as="geometry">
        <Array as="points">
          <mxPoint x="574.2315789473685" y="157.83684210526314"/>
          <mxPoint x="574.2315789473685" y="287.83684210526314"/>
          <mxPoint x="444.2315789473684" y="287.83684210526314"/>
          <mxPoint x="454.2315789473684" y="497.83684210526314"/>
        </Array>
      </mxGeometry>
    </mxCell>
    <mxCell id="161" value="Primary Battery Store" style="group" vertex="1" parent="1">
      <mxGeometry x="450" y="354" width="230" height="266" as="geometry"/>
    </mxCell>
    <mxCell id="20" value="Large Rechargeable Battery" style="cmp_battery_large" vertex="1" connectable="0" parent="161">
      <mxGeometry x="146" y="96" width="64" height="64" as="geometry"/>
      <Object cmpid="battery_large" isroot="0" combinable="1" display="0" display_filter="time" subdisplay="0" charge="1" passthrough="0" output="100" charge_max="24000" charge_min="0" input_multiplier="4" efficiency="80" active_usage="0" last_active_usage="0" usage="100" state="1" laststate="1" laststate2="1" blockable="1" as="attrs">
        <Array as="active_ids"/>
        <Object x="0" y="10" as="props_offset"/>
      </Object>
      <Array as="props">
        <Object name="Capacity" type="float" value="3791.8391"/>
        <Object name="Show Charge Remaining" type="bool" value="true"/>
        <Object name="Show Active Usage" type="bool" value="true"/>
      </Array>
      <Object hqm="10" tech="2" as="craft"/>
    </mxCell>
    <mxCell id="21" value="Power In" style="portv" vertex="1" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0" parent="20">
      <mxGeometry x="-0.15" y="0.4" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="22" value="Power Out" style="portv" vertex="1" type="out" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0" parent="20">
      <mxGeometry x="1" y="0.4" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="26" value="Large Rechargeable Battery" style="cmp_battery_large" vertex="1" connectable="0" parent="161">
      <mxGeometry x="146" y="176" width="64" height="64" as="geometry"/>
      <Object cmpid="battery_large" isroot="0" combinable="1" display="0" display_filter="time" subdisplay="0" charge="1" passthrough="0" output="100" charge_max="24000" charge_min="0" input_multiplier="4" efficiency="80" active_usage="0" last_active_usage="0" usage="100" state="1" laststate="1" laststate2="1" blockable="1" as="attrs">
        <Array as="active_ids"/>
        <Object x="0" y="10" as="props_offset"/>
      </Object>
      <Array as="props">
        <Object name="Capacity" type="float" value="3797.4027"/>
        <Object name="Show Charge Remaining" type="bool" value="true"/>
        <Object name="Show Active Usage" type="bool" value="true"/>
      </Array>
      <Object hqm="10" tech="2" as="craft"/>
    </mxCell>
    <mxCell id="27" value="Power In" style="portv" vertex="1" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0" parent="26">
      <mxGeometry x="-0.15" y="0.4" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="28" value="Power Out" style="portv" vertex="1" type="out" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0" parent="26">
      <mxGeometry x="1" y="0.4" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="82" value="Electrical Branch" style="cmp_branch" vertex="1" connectable="0" parent="161">
      <mxGeometry x="8" y="96" width="64" height="64" as="geometry"/>
      <Object cmpid="branch" consumption="1" display="3" passthrough="1" branch_min="2" usage="3" as="attrs"/>
      <Array as="props">
        <Object name="Branch" type="int" value="3" minval="2"/>
        <Object name="Show Branch Amount" type="bool" value="true"/>
      </Array>
      <Object mf="75" as="craft"/>
    </mxCell>
    <mxCell id="83" value="Power In" style="portv" vertex="1" parent="82" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0">
      <mxGeometry x="0.4" y="1.05" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="84" value="Branch Out" style="portv" vertex="1" parent="82" type="out" consumable="1" reconsumable="0" delayed="1" direct="0" warning="0">
      <mxGeometry x="0.2" y="-0.2" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="85" value="Power Out" style="portv" vertex="1" parent="82" type="out" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0">
      <mxGeometry x="0.6" y="-0.2" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="96" value="Splitter" style="cmp_splitter" vertex="1" connectable="0" parent="161">
      <mxGeometry x="72" y="101" width="64" height="64" as="geometry"/>
      <Object cmpid="splitter" consumption="1" passthrough="1" usage="1" as="attrs"/>
      <Array as="props"/>
      <Object mf="100" as="craft"/>
    </mxCell>
    <mxCell id="97" value="Power In" style="portv" vertex="1" parent="96" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0">
      <mxGeometry x="0.4" y="-0.2" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="98" value="Power Out 1" style="portv" vertex="1" parent="96" type="out" consumable="1" reconsumable="0" delayed="0" direct="1" warning="0">
      <mxGeometry x="0.1" y="1" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="99" value="Power Out 2" style="portv" vertex="1" parent="96" type="out" consumable="1" reconsumable="0" delayed="0" direct="1" warning="0">
      <mxGeometry x="0.45" y="1" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="100" value="Power Out 3" style="portv" vertex="1" parent="96" type="out" consumable="1" reconsumable="0" delayed="0" direct="1" warning="0">
      <mxGeometry x="0.8" y="1" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="102" value="135" edge="1" disabled="0" hovered="0" parent="161" source="85" target="97" origin="119" link="160">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="110" value="67" edge="1" disabled="0" hovered="0" parent="161" source="99" target="27" origin="119" link="102">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="165" value="67" edge="1" disabled="0" hovered="0" parent="161" source="100" target="21" origin="119" link="102">
      <mxGeometry relative="1" as="geometry">
        <Array as="points">
          <mxPoint x="145.64210526315787" y="166.9105263157894"/>
        </Array>
      </mxGeometry>
    </mxCell>
    <mxCell id="162" value="Battery&#xa;Blocker" style="group" vertex="1" parent="1">
      <mxGeometry x="690" y="310" width="100" height="400" as="geometry"/>
    </mxCell>
    <mxCell id="33" value="Blocker" style="cmp_blocker" vertex="1" connectable="0" parent="162">
      <mxGeometry x="30.1" y="188" width="64" height="64" as="geometry"/>
      <Object cmpid="blocker" consumption="1" state="0" passthrough="0" blockable="1" usage="1" as="attrs"/>
      <Array as="props"/>
      <Object mf="75" as="craft"/>
    </mxCell>
    <mxCell id="34" value="Power In" style="portv" vertex="1" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0" parent="33">
      <mxGeometry x="0.4" y="1.05" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="35" value="Block Passthrough" style="portv" vertex="1" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0" parent="33">
      <mxGeometry x="-0.15" y="0.4" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="36" value="Power Out" style="portv" vertex="1" type="out" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0" parent="33">
      <mxGeometry x="0.4" y="-0.2" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="38" value="Blocker" style="cmp_blocker" vertex="1" connectable="0" parent="162">
      <mxGeometry x="30.1" y="309.8" width="64" height="64" as="geometry"/>
      <Object cmpid="blocker" consumption="1" state="0" passthrough="0" blockable="1" usage="1" as="attrs"/>
      <Array as="props"/>
      <Object mf="75" as="craft"/>
    </mxCell>
    <mxCell id="39" value="Power In" style="portv" vertex="1" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0" parent="38">
      <mxGeometry x="0.4" y="1.05" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="40" value="Block Passthrough" style="portv" vertex="1" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0" parent="38">
      <mxGeometry x="-0.15" y="0.4" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="41" value="Power Out" style="portv" vertex="1" type="out" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0" parent="38">
      <mxGeometry x="0.4" y="-0.2" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="87" value="Splitter" style="cmp_splitter" vertex="1" connectable="0" parent="162">
      <mxGeometry x="30" y="55.8" width="64" height="64" as="geometry"/>
      <Object cmpid="splitter" consumption="1" passthrough="1" usage="1" as="attrs"/>
      <Array as="props"/>
      <Object mf="100" as="craft"/>
    </mxCell>
    <mxCell id="88" value="Power In" style="portv" vertex="1" parent="87" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0">
      <mxGeometry x="0.4" y="-0.2" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="89" value="Power Out 1" style="portv" vertex="1" parent="87" type="out" consumable="1" reconsumable="0" delayed="0" direct="1" warning="0">
      <mxGeometry x="0.1" y="1" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="90" value="Power Out 2" style="portv" vertex="1" parent="87" type="out" consumable="1" reconsumable="0" delayed="0" direct="1" warning="0">
      <mxGeometry x="0.45" y="1" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="91" value="Power Out 3" style="portv" vertex="1" parent="87" type="out" consumable="1" reconsumable="0" delayed="0" direct="1" warning="0">
      <mxGeometry x="0.8" y="1" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="171" value="1" edge="1" disabled="0" hovered="0" parent="162" source="89" target="40" origin="119" link="170" color="#FFFF00">
      <mxGeometry relative="1" as="geometry">
        <Array as="points">
          <mxPoint x="5.642105263157873" y="130.91052631578947"/>
          <mxPoint x="5.642105263157873" y="340.9105263157894"/>
        </Array>
      </mxGeometry>
    </mxCell>
    <mxCell id="172" value="1" edge="1" disabled="0" hovered="0" parent="162" source="90" target="35" origin="119" link="170" color="#FFFF00">
      <mxGeometry relative="1" as="geometry">
        <Array as="points">
          <mxPoint x="25.642105263157873" y="150.91052631578947"/>
        </Array>
      </mxGeometry>
    </mxCell>
    <mxCell id="163" value="Battery Transfer Source" style="group" vertex="1" parent="1">
      <mxGeometry x="800" y="366" width="222" height="264" as="geometry"/>
    </mxCell>
    <mxCell id="30" value="Large Rechargeable Battery" style="cmp_battery_large" vertex="1" connectable="0" parent="163">
      <mxGeometry x="40" y="64" width="64" height="64" as="geometry"/>
      <Object cmpid="battery_large" isroot="1" combinable="1" display="0" display_filter="time" subdisplay="0" charge="0" passthrough="0" output="100" charge_max="24000" charge_min="0" input_multiplier="4" efficiency="80" active_usage="0" last_active_usage="0" usage="100" state="1" laststate="0" laststate2="0" blockable="1" as="attrs">
        <Array as="active_ids"/>
        <Object x="0" y="10" as="props_offset"/>
      </Object>
      <Array as="props">
        <Object name="Capacity" type="float" value="0"/>
        <Object name="Show Charge Remaining" type="bool" value="true"/>
        <Object name="Show Active Usage" type="bool" value="true"/>
      </Array>
      <Object hqm="10" tech="2" as="craft"/>
    </mxCell>
    <mxCell id="31" value="Power In" style="portv" vertex="1" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0" parent="30">
      <mxGeometry x="-0.15" y="0.4" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="32" value="Power Out" style="portv" vertex="1" type="out" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0" parent="30">
      <mxGeometry x="1" y="0.4" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="43" value="Large Rechargeable Battery" style="cmp_battery_large" vertex="1" connectable="0" parent="163">
      <mxGeometry x="40" y="164" width="64" height="64" as="geometry"/>
      <Object cmpid="battery_large" isroot="1" combinable="1" display="0" display_filter="time" subdisplay="0" charge="0" passthrough="0" output="100" charge_max="24000" charge_min="0" input_multiplier="4" efficiency="80" active_usage="0" last_active_usage="0" usage="100" state="1" laststate="0" laststate2="0" blockable="1" as="attrs">
        <Array as="active_ids"/>
        <Object x="0" y="10" as="props_offset"/>
      </Object>
      <Array as="props">
        <Object name="Capacity" type="float" value="0"/>
        <Object name="Show Charge Remaining" type="bool" value="true"/>
        <Object name="Show Active Usage" type="bool" value="true"/>
      </Array>
      <Object hqm="10" tech="2" as="craft"/>
    </mxCell>
    <mxCell id="44" value="Power In" style="portv" vertex="1" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0" parent="43">
      <mxGeometry x="-0.15" y="0.4" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="45" value="Power Out" style="portv" vertex="1" type="out" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0" parent="43">
      <mxGeometry x="1" y="0.4" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="48" value="Root Combiner" style="cmp_combiner" vertex="1" connectable="0" parent="163">
      <mxGeometry x="158" y="84" width="64" height="64" as="geometry"/>
      <Object cmpid="combiner" consumption="0" passthrough="0" usage="1" as="attrs"/>
      <Array as="props"/>
      <Object mf="75" as="craft"/>
    </mxCell>
    <mxCell id="49" value="Power In 1" style="portv" vertex="1" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0" parent="48">
      <mxGeometry x="0.2" y="1.05" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="50" value="Power In 2" style="portv" vertex="1" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0" parent="48">
      <mxGeometry x="0.6" y="1.05" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="51" value="Power Out" style="portv" vertex="1" type="out" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0" parent="48">
      <mxGeometry x="0.4" y="-0.2" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="52" value="0" edge="1" disabled="0" hovered="0" origin="30" link="0" parent="163" source="32" target="49">
      <mxGeometry relative="1" as="geometry">
        <Array as="points">
          <mxPoint x="152.69473684210527" y="87.97894736842102"/>
          <mxPoint x="142.69473684210527" y="157.97894736842102"/>
        </Array>
      </mxGeometry>
    </mxCell>
    <mxCell id="53" value="0" edge="1" disabled="0" hovered="0" origin="43" link="0" parent="163" source="45" target="50">
      <mxGeometry relative="1" as="geometry">
        <Array as="points">
          <mxPoint x="222.69473684210527" y="197.97894736842102"/>
        </Array>
      </mxGeometry>
    </mxCell>
    <mxCell id="164" value="Energy Consumption" style="group" vertex="1" parent="1">
      <mxGeometry x="660" y="99.97894736842105" width="402" height="194" as="geometry"/>
    </mxCell>
    <mxCell id="6" value="Counter" style="cmp_counter" vertex="1" connectable="0" parent="164">
      <mxGeometry x="158" y="76.02105263157895" width="64" height="64" as="geometry"/>
      <Object cmpid="counter" consumption="1" value="0" ivalue="0" dvalue="0" cvalue="0" value_max="100" value_min="0" display="199" display_filter="" passthrough="1" usage="1" as="attrs">
        <Array as="consumed"/>
      </Object>
      <Array as="props">
        <Object name="Target" type="int" value="10"/>
        <Object name="Value" type="int" value="0" maxlen="3" sync_attr="value"/>
        <Object name="Show Passthrough" type="bool" value="true"/>
      </Array>
      <Object mf="75" as="craft"/>
    </mxCell>
    <mxCell id="7" value="Power In" style="portv" vertex="1" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0" parent="6">
      <mxGeometry x="0.4" y="1" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="8" value="Increment Counter" style="portv" vertex="1" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0" parent="6">
      <mxGeometry x="1" y="0.1" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="9" value="Decrement Counter" style="portv" vertex="1" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0" parent="6">
      <mxGeometry x="1" y="0.4" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="10" value="Clear Counter" style="portv" vertex="1" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0" parent="6">
      <mxGeometry x="1" y="0.7" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="11" value="Passthrough" style="portv" vertex="1" type="out" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0" parent="6">
      <mxGeometry x="0.4" y="-0.2" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="12" value="Ceiling Light" style="cmp_ceilinglight" vertex="1" connectable="0" parent="164">
      <mxGeometry x="298" y="76.02105263157895" width="64" height="64" as="geometry"/>
      <Object cmpid="ceilinglight" consumption="1" active="1" usage="2" as="attrs"/>
      <Array as="props"/>
      <Object mf="50" as="craft"/>
    </mxCell>
    <mxCell id="13" value="Power In" style="portv" vertex="1" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0" parent="12">
      <mxGeometry x="-0.15" y="0.4" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="14" value="Passthrough" style="portv" vertex="1" type="out" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0" parent="12">
      <mxGeometry x="1" y="0.4" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="15" value="198" edge="1" disabled="0" hovered="0" origin="119" link="79" parent="164" source="11" target="13">
      <mxGeometry relative="1" as="geometry">
        <Array as="points">
          <mxPoint x="288" y="70.02105263157895"/>
        </Array>
      </mxGeometry>
    </mxCell>
    <mxCell id="65" value="OR Switch" style="cmp_switch_or" vertex="1" connectable="0" parent="164">
      <mxGeometry x="40" y="72.02105263157898" width="64" height="64" as="geometry"/>
      <Object cmpid="switch_or" consumption="1" passthrough="1" usage="1" as="attrs"/>
      <Array as="props"/>
      <Object mf="100" as="craft"/>
    </mxCell>
    <mxCell id="66" value="Power In 1" style="portv" vertex="1" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0" parent="65">
      <mxGeometry x="0.2" y="1.05" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="67" value="Power In 2" style="portv" vertex="1" type="in" consumable="1" reconsumable="0" delayed="0" direct="0" warning="0" parent="65">
      <mxGeometry x="0.6" y="1.05" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="68" value="Power Out" style="portv" vertex="1" type="out" consumable="1" reconsumable="1" delayed="0" direct="0" warning="0" parent="65">
      <mxGeometry x="0.4" y="-0.2" width="10" height="10" relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="79" value="199" edge="1" disabled="0" hovered="0" origin="119" link="80" parent="164" source="68" target="7">
      <mxGeometry relative="1" as="geometry">
        <Array as="points">
          <mxPoint x="132.69473684210527" y="64"/>
          <mxPoint x="142.69473684210527" y="154"/>
        </Array>
      </mxGeometry>
    </mxCell>
    <mxCell id="170" value="3" edge="1" disabled="0" hovered="0" parent="1" source="84" target="88" origin="119" link="160">
      <mxGeometry relative="1" as="geometry">
        <Array as="points">
          <mxPoint x="685.6421052631579" y="410.91052631578947"/>
          <mxPoint x="685.6421052631579" y="350.91052631578947"/>
        </Array>
      </mxGeometry>
    </mxCell>
    <mxCell id="173" value="100" edge="1" disabled="0" hovered="0" parent="1" source="22" target="34" origin="20" link="0">
      <mxGeometry relative="1" as="geometry">
        <Array as="points">
          <mxPoint x="715.6421052631579" y="540.9105263157894"/>
          <mxPoint x="715.6421052631579" y="570.9105263157894"/>
        </Array>
      </mxGeometry>
    </mxCell>
    <mxCell id="174" value="100" edge="1" disabled="0" hovered="0" parent="1" source="28" target="39" origin="26" link="0">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="175" value="0" edge="1" disabled="0" hovered="0" parent="1" source="36" target="31" origin="20" link="173">
      <mxGeometry relative="1" as="geometry">
        <Array as="points">
          <mxPoint x="835.6421052631579" y="490.91052631578947"/>
        </Array>
      </mxGeometry>
    </mxCell>
    <mxCell id="176" value="0" edge="1" disabled="0" hovered="0" parent="1" source="41" target="44" origin="26" link="174">
      <mxGeometry relative="1" as="geometry">
        <Array as="points">
          <mxPoint x="845.6421052631579" y="600.9105263157894"/>
        </Array>
      </mxGeometry>
    </mxCell>
  </root>
</mxGraphModel>
